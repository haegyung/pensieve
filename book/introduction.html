<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Pensieve</title>
  <meta name="description" content="Extensive documentation for the <code>pensieve</code> R package for the scientific study of human subjectivity.">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Pensieve" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://pensieve.maxheld.de/docs/book/" />
  
  <meta property="og:description" content="Extensive documentation for the <code>pensieve</code> R package for the scientific study of human subjectivity." />
  <meta name="github-repo" content="maxheld83/pensieve" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Pensieve" />
  
  <meta name="twitter:description" content="Extensive documentation for the <code>pensieve</code> R package for the scientific study of human subjectivity." />
  

<meta name="author" content="Maximilian Held">


<meta name="date" content="2017-08-11">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="items.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Software for Human Subjectivity.</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#the-oo-system"><i class="fa fa-check"></i><b>1.1</b> The OO System</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#the-qstudy-list"><i class="fa fa-check"></i><b>1.2</b> The <code>QStudy</code> List</a></li>
</ul></li>
<li class="part"><span><b>I Design</b></span></li>
<li class="chapter" data-level="2" data-path="items.html"><a href="items.html"><i class="fa fa-check"></i><b>2</b> Items</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Pensieve</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Introduction</h1>
<p><code>pensieve</code> is an open-source extension to the <a href="https://www.r-project.org">R project for statistical computing</a>, distributed via the <a href="https://cran.r-project.org/">Comprehensive R Archive Network (CRAN)</a> as one of thousands of packages.</p>
<p>It is accompanied by <code>accio</code>, a web-based, closed-source front-end, for which <code>pensieve</code> serves as the backend. If you do not want to use hosted or closed-source software, not to worry: <code>accio</code> is meant as a convenient way of accessing <code>pensieve</code>, for users who may not want to install and learn R. Almost all features accessible in <code>accio</code> are also available in <code>pensieve</code>, with the exception (for now) of deploying a web-based Q-Sort.</p>
<p>Though formally a package like many others, <code>pensieve</code> is in some ways <em>less and more</em> than mainstream packages that you may be familiar with and on which it is largely based. For now, at least, <code>pensieve</code> offers little advanced algorithms by itself, but merely wrangles data and interface other, powerful packages. This makes it somewhat less than a “real” package, and more of a wrapping layer. At the same time, <code>pensieve</code> is vastly more specialized than many other packages, tailored to the needs of <em>one</em> domain: the scientific study of human subjectivity. This makes it akin to a <a href="https://en.wikipedia.org/wiki/Domain-specific_language">Domain Specific Language</a> or a mini-language.</p>
<p><code>pensieve</code>, is, in other words, a very nich enterprise, much like Q Methodology itself: endowed with great hopes by its creator, and perhaps some yet-unrealised potential.</p>
<div id="the-oo-system" class="section level2">
<h2><span class="header-section-number">1.1</span> The OO System</h2>
<p>One of the dirty secrets of quantitative work is that a good 80% of the time is often spent on “cleaning and preparing” messy data [<span class="citation">Dasu and Johnson (<a href="#ref-dasu_exploratory_2003">2003</a>)</span>; as cited in @Wickham-2014: 1]. This tedium affects the quantitative stages of Q as much as other analyses, as is best addressed head-on and as early as possible, to avoid downstream complications.</p>
<p>To that end, <code>pensieve</code> prescribes a large number of standardized data formats, in which otherwise messy data can be tidily stored.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> These standardized data formats come in the form of S3 classes, which is the simplest (and oldest) system for object-oriented (OO) programming in R. There is no need to know anything about S3 or OO in general to use and benefit from this system in <code>pensieve</code>: Suffice it to say that S3 is a clever way for data to <em>know</em> what <em>kind</em> of data <em>class</em> they are, and what kind of <em>methods</em> can be applied to them. For example, <code>QLoadings</code> “know” that they are loadings, and that they can be <code>rotate()</code>d.</p>
<p>It is easy to recognize theses classes in <code>pensieve</code>: they are all in CamelCase and start with a capital Q, as, for instance <code>QSorts</code>. They all come with a <em>constructor</em> function, always by the same name (<code>QSorts()</code>), which allows you to create such an object from appropriate inputs. These constructor functions do not do very much; they simply validate the data and assign the class.</p>
<p>Each class (such as <code>QSorts</code>) is also accompanied by a method for the <code>check()</code> generic, which means that you can, well, <code>check()</code> any object to make sure that it conforms to the standardized data format. For example, <code>check()</code>ing a <code>QLoadings</code> object will assert that all values are between <code>-1</code> and <code>1</code>, as loadings must be by definition, as well as a number of other criteria. To find out about these criteria for valid data, consult the documentation for each of the classes, by entering, say <code>help(&quot;QSorts&quot;)</code>. The arguments section will list all of the criteria that are also tested. If your data is partly invalid, the <code>check()</code>s will give you (hopefully) precise and instructive error messages for you to fix.</p>
<p>These <code>check()</code>s are run on whenever <code>pensieve</code> touches <em>any</em> of its known classes, which ensures that data are always in their proper form. This is a simple way to shoehorn type validation into S3, which ordinarily does not have such a facility.</p>
<p>In addition to the <code>check()</code> functions (which return <code>TRUE</code> or the error message), you can also use <code>assert()</code> (which only returns a message in case of an error), <code>test()</code> (which only returns <code>TRUE</code> or <code>FALSE</code>) or <code>expect()</code> (for internal usage in testing via <span class="citation">Wickham (<a href="#ref-wickham_testthat:_2011">2011</a>)</span>’s <a href="https://github.com/hadley/testthat"><code>testthat</code></a>). This follows the framework set by <span class="citation">Lang (<a href="#ref-lang_checkmate:_2017">2017</a>)</span>’s <a href="https://mllg.github.io/checkmate/index.html"><code>checkmate</code></a>, which <code>pensieve</code> extends.</p>
<p>If you only use the functions provided by <code>pensieve</code>, you will probably never need <code>check()</code> or any of its siblings: <code>pensieve</code> will do all necessary checking for you. If, however, you add some custom code of your own, you may want to throw in an occasional <code>assert()</code>ion into your script to ensure that everything is still kosher.</p>
<p>Aside from <code>check()</code>s, there are some other methods defined for common generics, defined for some of the objects, such as customized <code>print()</code>ing or <code>plot()</code>ing functions. You can find out about all these special “abilities” of the classes by reading their help.</p>
<p>A word of warning: you <em>can</em> always assign or remove classes <em>by hand</em>, rather than using the provided constructor functions and their included <code>check()</code>s, but I strongly recommend against this. Because S3 is a relatively simple and ad-hoc system, it is easy to “shoot yourself in the foot” <span class="citation">(Wickham <a href="#ref-wickham_advanced_2014">2014</a><a href="#ref-wickham_advanced_2014">b</a>)</span>. Downstream <code>pensieve</code> functions may fail, or worse, produce wrong results if data is not provided in the precise format specified in the included classes.</p>
<p>This design may strike users as involved, or overly restrictive, but there is little need to worry. Most average users of <code>pensieve</code> will never be exposed to OO system “behind the scenes”. More advanced users with custom extensions should also not feel stifled; rather than restricting the extensibility of R, this validation infrastructure merely provides a well-defined interface <em>for</em> extending <code>pensieve</code>. With such a system in place, all users can rest assured that all reasonable precautions are taken to ensure the reliability and reproducibility of their results, as would be expected from any <em>scientific</em> study of human subjectivity.</p>
</div>
<div id="the-qstudy-list" class="section level2">
<h2><span class="header-section-number">1.2</span> The <code>QStudy</code> List</h2>
<p>In addition to <em>atomic</em> (or vector) data formats, such as <code>QSort</code> which cannot be divided up further, <code>pensieve</code> also provides a lot of <em>composite</em> (or list) data formats, which comprise of atomic classes, or other list classes. This is easy to illustrate with <code>QItems</code>, which must always (at least) consist of a <code>QItemConcourse</code> and a <code>QItemSample</code>.</p>
<p>Higher-level classes such as <code>QItems</code> also come with their constructor (<code>QItems()</code>) and <code>check()</code> functions, but these expect the lower level, atomic classes as inputs. Instead of checking <em>their</em> validity, they check the <em>consistency</em> between them. For example, we know that <code>QItemSample</code> may only contain items for which there is also an entry in <code>QItemConcourse</code>; it would not make sense to have an item that is part of the sample, but not the concourse.</p>
<p>This structure of nested classes goes all the way up to a complete <code>QStudy</code> object, which includes <em>all</em> data relevant for, and produced in any given study.</p>
<p>The top-level list <code>QStudy</code> looks like this:</p>
<!-- add chapter links to the list -->
<ul>
<li><code>QStudy</code></li>
<li><code>QItems</code></li>
<li><code>QDesign</code></li>
<li><code>QPeople</code></li>
<li><strong><code>QData</code></strong></li>
<li>…</li>
</ul>
<p>The order of this list approximately follows the progress of most Q studies, and is also reflected in the organisation of this book. Each of the high-level list objects, including their elements, functions and substantive considerations is covered in the following chapters.</p>
<p>However, there is no technical reason to follow this order or structure of classes; users can organise their data in whichever form they prefer. Some functions accept higher-level, nested lists, but they always also accept the atomic form.</p>
<p>In addition, not <em>all</em> Q studies will have use for all of these objects, or their elements: the nested data structures offered in <code>pensieve</code> are, for the most part, strictly optional. It is, in fact, possible to run <code>pensieve</code> with only a minimum of these objects, emphasized in the above.</p>

</div>
</div>



<h3>References</h3>
<div id="refs" class="references">
<div id="ref-dasu_exploratory_2003">
<p>Dasu, Tamraparni, and Theodore Johnson. 2003. <em>Exploratory Data Mining and Data Cleaning</em>. 1 edition. New York: John Wiley &amp; Sons.</p>
</div>
<div id="ref-wickham_testthat:_2011">
<p>Wickham, Hadley. 2011. “Testthat: Get Started with Testing.” <em>The R Journal</em> 3 (1): 5–10. <a href="https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf" class="uri">https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf</a>.</p>
</div>
<div id="ref-lang_checkmate:_2017">
<p>Lang, Michel. 2017. “Checkmate: Fast Argument Checks for Defensive R Programming.” <em>The R Journal</em> 9 (1): 437–45. <a href="https://journal.r-project.org/archive/2017/RJ-2017-028/index.html" class="uri">https://journal.r-project.org/archive/2017/RJ-2017-028/index.html</a>.</p>
</div>
<div id="ref-wickham_advanced_2014">
<p>Wickham, Hadley. 2014b. <em>Advanced R</em>. 1 edition. CRC. Boca Raton, FL: Chapman and Hall/CRC.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p><span class="citation">Wickham (<a href="#ref-Wickham-2014">2014</a><a href="#ref-Wickham-2014">a</a>)</span> has suggested a formal definition of <em>tidy</em> datasets where each row is an observation, each column a variable and each table an observational unit. While much of <code>pensieve</code> follows this philosophy, not all Q objects are best represented as tidy <code>data.frame</code>s or <code>tibble</code>s. Where rows and columns can be meaningfully transposed or where linear algebra operations are readily applicable, as is the case for Q-sorts and downstream results, data is instead stored in matrices and higher dimensional arrays. This is in line with recent recommendations for such non-tidy data by <a href="https://simplystatistics.org/2016/02/17/non-tidy-data/"><span class="citation">(Leek <a href="#ref-leek_non-tidy_2016">2016</a>)</span></a>.<a href="introduction.html#fnref1">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="items.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/maxheld83/pensieve/edit/master/docs/book/introduction.Rmd",
"text": "Edit"
},
"download": ["Pensieve.pdf", "Pensieve.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
